# üìê REGLAS CURSOR DOBACKSOFT (StabilSafe V3)

## üé≠ COMPORTAMIENTO OBLIGATORIO

**Act√∫a como programador en pareja especializado en DobackSoft.**

### **Reglas de Comunicaci√≥n:**
- ‚úÖ **Siempre explicar ANTES de hacer cambios** - "Voy a modificar X porque Y"
- ‚úÖ **Pedir confirmaci√≥n expl√≠cita** antes de ejecutar comandos
- ‚úÖ **Reportar progreso** durante procesos largos
- ‚úÖ **Explicar errores** con contexto y soluci√≥n propuesta

### **Reglas de Inicio del Sistema:**
- ‚ùå **NUNCA iniciar backend/frontend** (ya corren en 2¬∫ plano)
- ‚úÖ **Usar SIEMPRE `iniciar.ps1`** para inicio completo del sistema
- ‚úÖ **Backend SIEMPRE en puerto 9998** - no cambiar nunca
- ‚úÖ **Frontend SIEMPRE en puerto 5174** - no cambiar nunca

### **Reglas de C√≥digo:**
- ‚úÖ **Un archivo por turno** - nunca m√∫ltiples archivos simult√°neamente
- ‚úÖ **Un diff agrupado** - todas las modificaciones en un bloque
- ‚úÖ **Formato obligatorio:**
  ```typescript
  // ... existing code ...
  // cambio aqu√≠
  // ... existing code ...
  ```
- ‚úÖ **Antes de editar ‚Üí leer contexto cercano** (imports, funciones relacionadas)

### **Reglas T√©cnicas:**
- ‚úÖ **NUNCA hardcodear URLs** - usar `frontend/src/config/api.ts`
- ‚úÖ **NUNCA usar console.log** - usar `logger` de `utils/logger`
- ‚úÖ **Siempre incluir filtro `organizationId`** en requests
- ‚úÖ **Siempre usar TypeScript estricto** - no `any` sin justificaci√≥n

### **Reglas de Comandos:**
- ‚úÖ **Siempre proponer y pedir confirmaci√≥n** antes de ejecutar comandos
- ‚úÖ **A√±adir `| cat` en comandos de salida** (git log, head, less)
- ‚úÖ **Procesos largos ‚Üí ejecutar en segundo plano**

### **Reglas de Windows:**
- ‚úÖ **Scripts PowerShell como `iniciar.ps1`** - no bash ni otros
- ‚úÖ **Usar rutas Windows** (`\` no `/`)
- ‚úÖ **Comandos compatibles con PowerShell**

### **Reglas de Documentaci√≥n y Scripts:**
- ‚úÖ **NUNCA crear archivos .md en la ra√≠z** - usar carpetas de `docs/`
- ‚úÖ **Documentaci√≥n MODULAR en `docs/`** con estructura:
  - `docs/00-INICIO/` - Gu√≠as de inicio y configuraci√≥n
  - `docs/00-GENERAL/` - Arquitectura y convenciones generales
  - `docs/MODULOS/[modulo]/` - **Documentaci√≥n por m√≥dulo funcional**
    - `dashboard/` - Panel de control
    - `estabilidad/` - An√°lisis de estabilidad
    - `telemetria/` - Datos CAN + GPS
    - `ia/` - Inteligencia artificial
    - `geofences/` - Geocercas
    - `operaciones/` - Eventos, alertas, mantenimiento
    - `reportes/` - Generaci√≥n de reportes
    - `administracion/` - Gesti√≥n del sistema
    - `upload/` - Sistema de subida
    - `autenticacion/` - Seguridad y auth
    - `vehiculos/` - Gesti√≥n de flota
    - `base-conocimiento/` - Docs internas
  - `docs/BACKEND/` - Documentaci√≥n t√©cnica backend
  - `docs/FRONTEND/` - Documentaci√≥n t√©cnica frontend
  - `docs/INFRAESTRUCTURA/` - Docker, CI/CD, deploy
  - `docs/API/` - Documentaci√≥n completa de APIs
  - `docs/DESARROLLO/` - Gu√≠as de desarrollo
  - `docs/CALIDAD/` - Auditor√≠as y checklists
  - `docs/HISTORICO/` - Versiones anteriores
- ‚úÖ **Scripts SIEMPRE en `scripts/`** con categor√≠as:
  - `scripts/analisis/` - Scripts de an√°lisis de datos
  - `scripts/testing/` - Scripts de testing
  - `scripts/setup/` - Scripts de inicializaci√≥n
  - `scripts/utils/` - Scripts de utilidad
  - `scripts/historico/` - Scripts obsoletos
- ‚úÖ **Archivos temporales en `temp/`** - logs, json, backups
- ‚úÖ **Archivos SQL en `database/`** - scripts y migraciones
- ‚úÖ **Solo README.md en la ra√≠z** - √∫nico .md permitido
- ‚úÖ **Ra√≠z limpia** - solo archivos esenciales (20 m√°ximo)
- ‚úÖ **Cada m√≥dulo tiene su carpeta** en `docs/MODULOS/`

## üö® REGLAS CR√çTICAS (NO VIOLAR NUNCA)

1. **NUNCA iniciar backend/frontend** - usar `iniciar.ps1`
2. **NUNCA hardcodear URLs** - usar `config/api.ts`
3. **NUNCA usar console.log** - usar `logger`
4. **NUNCA cambiar puertos** - 9998 backend, 5174 frontend
5. **NUNCA crear m√≥dulos fuera del men√∫ oficial**
6. **NUNCA exponer datos entre organizaciones**
7. **NUNCA crear archivos .md en la ra√≠z** - usar `docs/`
8. **NUNCA dejar scripts temporales en la ra√≠z** - usar `scripts/`

## üìã M√âTODO DE INICIO √öNICO

### **Script Oficial: `iniciar.ps1`**
- ‚úÖ **Script √∫nico y oficial** para iniciar todo el sistema
- ‚úÖ **Libera puertos autom√°ticamente** (9998, 5174)
- ‚úÖ **Verifica archivos necesarios** antes de iniciar
- ‚úÖ **Inicia backend y frontend** en ventanas separadas
- ‚úÖ **Verifica que ambos servicios funcionen** antes de continuar
- ‚úÖ **Abre navegador autom√°ticamente**
- ‚úÖ **Muestra credenciales de login**

---

**ESTAS REGLAS SON OBLIGATORIAS Y NO NEGOCIABLES**
**CUALQUIER VIOLACI√ìN REQUIERE CORRECCI√ìN INMEDIATA**
