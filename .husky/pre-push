#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo "ğŸ§ª Running pre-push checks..."

# Run tests for backend
echo "ğŸ”¬ Running backend tests..."
cd backend
npm run test:unit
cd ..

# Run tests for frontend
echo "ğŸ”¬ Running frontend tests..."
cd frontend
npm run test:unit
cd ..

# Run E2E tests (only if not in CI)
if [ "$CI" != "true" ]; then
    echo "ğŸ­ Running E2E tests..."
    npm run test:e2e
fi

echo "âœ… Pre-push checks passed!"
